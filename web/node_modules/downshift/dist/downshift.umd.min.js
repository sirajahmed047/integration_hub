!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Downshift={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(t);function o(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a,c,d,p,f={exports:{}};f.exports=function(){if(p)return d;p=1;var e=c?a:(c=1,a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,d=function(){function i(t,n,i,o,r,u){if(u!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return i}i.isRequired=i;var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r}}()();var h,g=l(f.exports),m={};!function(){if(h)return m;h=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function I(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case i:case r:case o:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case s:case a:case f:case p:case u:return e;default:return h}}case n:return h}}}e=Symbol.for("react.module.reference"),m.ContextConsumer=s,m.ContextProvider=u,m.Element=t,m.ForwardRef=a,m.Fragment=i,m.Lazy=f,m.Memo=p,m.Portal=n,m.Profiler=r,m.StrictMode=o,m.Suspense=c,m.SuspenseList=d,m.isAsyncMode=function(){return!1},m.isConcurrentMode=function(){return!1},m.isContextConsumer=function(e){return I(e)===s},m.isContextProvider=function(e){return I(e)===u},m.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},m.isForwardRef=function(e){return I(e)===a},m.isFragment=function(e){return I(e)===i},m.isLazy=function(e){return I(e)===f},m.isMemo=function(e){return I(e)===p},m.isPortal=function(e){return I(e)===n},m.isProfiler=function(e){return I(e)===r},m.isStrictMode=function(e){return I(e)===o},m.isSuspense=function(e){return I(e)===c},m.isSuspenseList=function(e){return I(e)===d},m.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===r||t===o||t===c||t===d||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===f||t.$$typeof===p||t.$$typeof===u||t.$$typeof===s||t.$$typeof===a||t.$$typeof===e||void 0!==t.getModuleId)},m.typeOf=I}();const I=e=>"object"==typeof e&&null!=e&&1===e.nodeType,v=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,y=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return v(n.overflowY,t)||v(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},b=(e,t,n,i,o,r,u,s)=>r<e&&u>t||r>e&&u<t?0:r<=e&&s<=n||u>=t&&s>=n?r-e-i:u>t&&s<n||r<e&&s>n?u-t+o:0,x=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t};var w=0;function S(e){return"function"==typeof e?e:C}function C(){}function k(e,t){if(e){var n=((e,t)=>{var n,i,o,r;if("undefined"==typeof document)return[];const{scrollMode:u,block:s,inline:l,boundary:a,skipOverflowHiddenElements:c}=t,d="function"==typeof a?a:e=>e!==a;if(!I(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,f=[];let h=e;for(;I(h)&&d(h);){if(h=x(h),h===p){f.push(h);break}null!=h&&h===document.body&&y(h)&&!y(document.documentElement)||null!=h&&y(h,c)&&f.push(h)}const g=null!=(i=null==(n=window.visualViewport)?void 0:n.width)?i:innerWidth,m=null!=(r=null==(o=window.visualViewport)?void 0:o.height)?r:innerHeight,{scrollX:v,scrollY:w}=window,{height:S,width:C,top:k,right:D,bottom:O,left:M}=e.getBoundingClientRect(),{top:E,right:T,bottom:K,left:P}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let R="start"===s||"nearest"===s?k-E:"end"===s?O+K:k+S/2-E+K,H="center"===l?M+C/2-P+T:"end"===l?D+T:M-P;const V=[];for(let e=0;e<f.length;e++){const t=f[e],{height:n,width:i,top:o,right:r,bottom:a,left:c}=t.getBoundingClientRect();if("if-needed"===u&&k>=0&&M>=0&&O<=m&&D<=g&&k>=o&&O<=a&&M>=c&&D<=r)return V;const d=getComputedStyle(t),h=parseInt(d.borderLeftWidth,10),I=parseInt(d.borderTopWidth,10),y=parseInt(d.borderRightWidth,10),x=parseInt(d.borderBottomWidth,10);let E=0,T=0;const K="offsetWidth"in t?t.offsetWidth-t.clientWidth-h-y:0,P="offsetHeight"in t?t.offsetHeight-t.clientHeight-I-x:0,A="offsetWidth"in t?0===t.offsetWidth?0:i/t.offsetWidth:0,B="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(p===t)E="start"===s?R:"end"===s?R-m:"nearest"===s?b(w,w+m,m,I,x,w+R,w+R+S,S):R-m/2,T="start"===l?H:"center"===l?H-g/2:"end"===l?H-g:b(v,v+g,g,h,y,v+H,v+H+C,C),E=Math.max(0,E+w),T=Math.max(0,T+v);else{E="start"===s?R-o-I:"end"===s?R-a+x+P:"nearest"===s?b(o,a,n,I,x+P,R,R+S,S):R-(o+n/2)+P/2,T="start"===l?H-c-h:"center"===l?H-(c+i/2)+K/2:"end"===l?H-r+y+K:b(c,r,i,h,y+K,H,H+C,C);const{scrollLeft:e,scrollTop:u}=t;E=0===B?0:Math.max(0,Math.min(u+E/B,t.scrollHeight-n/B+P)),T=0===A?0:Math.max(0,Math.min(e+T/A,t.scrollWidth-i/A+K)),R+=u-E,H+=e-T}V.push({el:t,top:E,left:T})}return V})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach((function(e){var t=e.el,n=e.top,i=e.left;t.scrollTop=n,t.scrollLeft=i}))}}function D(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function O(e,t){var n;function i(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];i(),n=setTimeout((function(){n=null,e.apply(void 0,r)}),t)}return o.cancel=i,o}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(i)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function T(){return String(w++)}function K(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function P(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}var R=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function H(e){void 0===e&&(e={});var t={};return R.forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function V(e,t){return e&&t?Object.keys(e).reduce((function(n,i){return n[i]=A(t,i)?t[i]:e[i],n}),{}):e}function A(e,t){return void 0!==e[t]}function B(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function L(e,t,n,i,o){void 0===o&&(o=!1);var r=n.length;if(0===r)return-1;var u=r-1;("number"!=typeof e||e<0||e>u)&&(e=t>0?-1:u+1);var s=e+t;s<0?s=o?u:0:s>u&&(s=o?0:u);var l=F(s,t<0,n,i,o);return-1===l?e>=r?-1:e:l}function F(e,t,n,i,o){void 0===o&&(o=!1);var r=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var s=e;s<r;s++)if(!i(n[s],s))return s;return o?F(t?r-1:0,t,n,i):-1}function _(e,t,n,i){return void 0===i&&(i=!0),n&&t.some((function(t){return t&&(D(t,e,n)||i&&D(t,n.document.activeElement,n))}))}var N=O((function(e){j(e).textContent=""}),500);function j(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function U(e,t){e&&t&&(j(t).textContent=e,N(t))}var W=Object.freeze({__proto__:null,unknown:0,mouseUp:1,itemMouseEnter:2,keyDownArrowUp:3,keyDownArrowDown:4,keyDownEscape:5,keyDownEnter:6,keyDownHome:7,keyDownEnd:8,clickItem:9,blurInput:10,changeInput:11,keyDownSpaceButton:12,clickButton:13,blurButton:14,controlledPropUpdatedSelectedItem:15,touchEnd:16}),$=["refKey","ref"],q=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],z=["onKeyDown","onBlur","onChange","onInput","onChangeText"],Y=["refKey","ref"],X=["onMouseMove","onMouseDown","onClick","onPress","index","item"],G=function(){var e=function(e){var n,i;function l(t){var n=e.call(this,t)||this;n.id=n.props.id||"downshift-"+T(),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var i=setTimeout((function(){n.timeoutIds=n.timeoutIds.filter((function(e){return e!==i})),e()}),t);n.timeoutIds.push(i)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.isItemDisabled=function(e,t){var i=n.getItemNodeFromIndex(t);return i&&i.hasAttribute("disabled")},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=H(t),n.internalSetState(r({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,i){t=H(t),n.internalSetState(r({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),i)},n.selectItemAtIndex=function(e,t,i){var o=n.items[e];null!=o&&n.selectItem(o,t,i)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var i,o,u={},s="function"==typeof e;return!s&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,r({},n.getStateAndHelpers(),e)),n.setState((function(t){var l;t=n.getState(t);var a=s?e(t):e;a=n.props.stateReducer(t,a),i=a.hasOwnProperty("selectedItem");var c={};return i&&a.selectedItem!==t.selectedItem&&(o=a.selectedItem),(l=a).type||(l.type=0),Object.keys(a).forEach((function(e){t[e]!==a[e]&&(u[e]=a[e]),"type"!==e&&(a[e],A(n.props,e)||(c[e]=a[e]))})),s&&a.hasOwnProperty("inputValue")&&n.props.onInputValueChange(a.inputValue,r({},n.getStateAndHelpers(),a)),c}),(function(){S(t)(),Object.keys(u).length>1&&n.props.onStateChange(u,n.getStateAndHelpers()),i&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==o&&n.props.onChange(o,n.getStateAndHelpers()),n.props.onUserAction(u,n.getStateAndHelpers())}))},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var i,u=void 0===e?{}:e,s=u.refKey,l=void 0===s?"ref":s,a=u.ref,c=o(u,$),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;n.getRootProps.called=!0,n.getRootProps.refKey=l,n.getRootProps.suppressRefError=p;var f=n.getState().isOpen;return r(((i={})[l]=E(a,n.rootRef),i.role="combobox",i["aria-expanded"]=f,i["aria-haspopup"]="listbox",i["aria-owns"]=f?n.menuId:void 0,i["aria-labelledby"]=n.labelId,i),c)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},(function(){var e=t.getItemCount();if(e>0){var n=L(t.getState().highlightedIndex,1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:4})}}))},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},(function(){var e=t.getItemCount();if(e>0){var n=L(t.getState().highlightedIndex,-1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:3})}}))},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,i=t.highlightedIndex;if(n&&null!=i){e.preventDefault();var o=this.items[i],r=this.getItemNodeFromIndex(i);if(null==o||r&&r.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset(r({type:5},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},n.buttonKeyDownHandlers=r({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),n.inputKeyDownHandlers=r({},n.keyDownHandlers,{Home:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=F(0,!1,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:7})}}},End:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=F(n-1,!0,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:8})}}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,i=t.onClick;t.onPress;var u=t.onKeyDown,s=t.onKeyUp,l=t.onBlur,a=o(t,q),c=n.getState().isOpen,d={onClick:M(i,n.buttonHandleClick),onKeyDown:M(u,n.buttonHandleKeyDown),onKeyUp:M(s,n.buttonHandleKeyUp),onBlur:M(l,n.buttonHandleBlur)};return r({type:"button",role:"button","aria-label":c?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},a.disabled?{}:d,a)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=B(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(u(n),e)},n.buttonHandleClick=function(e){if(e.preventDefault(),n.props.environment){var t=n.props.environment.document,i=t.body,o=t.activeElement;i&&i===o&&e.target.focus()}n.internalSetTimeout((function(){return n.toggleMenu({type:13})}))},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout((function(){if(!n.isMouseDown&&n.props.environment){var e=n.props.environment.document.activeElement;null!=e&&e.id===n.inputId||e===t||n.reset({type:14})}}))},n.getLabelProps=function(e){return r({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,i=t.onKeyDown,u=t.onBlur,s=t.onChange,l=t.onInput;t.onChangeText;var a=o(t,z),c={};var d,p=n.getState(),f=p.inputValue,h=p.isOpen,g=p.highlightedIndex;a.disabled||((d={}).onChange=M(s,l,n.inputHandleChange),d.onKeyDown=M(i,n.inputHandleKeyDown),d.onBlur=M(u,n.inputHandleBlur),c=d);return r({"aria-autocomplete":"list","aria-activedescendant":h&&"number"==typeof g&&g>=0?n.getItemId(g):void 0,"aria-controls":h?n.menuId:void 0,"aria-labelledby":a&&a["aria-label"]?void 0:n.labelId,autoComplete:"off",value:f,id:n.inputId},c,a)},n.inputHandleKeyDown=function(e){var t=B(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(u(n),e)},n.inputHandleChange=function(e){n.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout((function(){var e;if(!n.isMouseDown&&n.props.environment){var t=n.props.environment.document.activeElement;(null==t||null==(e=t.dataset)?void 0:e.toggle)&&n._rootNode&&n._rootNode.contains(t)||n.reset({type:10})}}))},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var i,u=void 0===e?{}:e,s=u.refKey,l=void 0===s?"ref":s,a=u.ref,c=o(u,Y),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;return n.getMenuProps.called=!0,n.getMenuProps.refKey=l,n.getMenuProps.suppressRefError=p,r(((i={})[l]=E(a,n.menuRef),i.role="listbox",i["aria-labelledby"]=c&&c["aria-label"]?void 0:n.labelId,i.id=n.menuId,i),c)},n.getItemProps=function(e){var t,i=void 0===e?{}:e,u=i.onMouseMove,s=i.onMouseDown,l=i.onClick;i.onPress;var a=i.index,c=i.item,d=void 0===c?void 0:c,p=o(i,X);void 0===a?(n.items.push(d),a=n.items.indexOf(d)):n.items[a]=d;var f=l,h=((t={onMouseMove:M(u,(function(){a!==n.getState().highlightedIndex&&(n.setHighlightedIndex(a,{type:2}),n.avoidScrolling=!0,n.internalSetTimeout((function(){return n.avoidScrolling=!1}),250))})),onMouseDown:M(s,(function(e){e.preventDefault()}))}).onClick=M(f,(function(){n.selectItemAtIndex(a,{type:9})})),t),g=p.disabled?{onMouseDown:h.onMouseDown}:h;return r({id:n.getItemId(a),role:"option","aria-selected":n.getState().highlightedIndex===a},g,p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=H(e),n.internalSetState((function(t){var i=t.selectedItem;return r({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(i)},e)}),t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=H(e),n.internalSetState((function(t){var i=t.isOpen;return r({isOpen:!i},i&&{highlightedIndex:n.props.defaultHighlightedIndex},e)}),(function(){var i=n.getState(),o=i.isOpen,r=i.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof r&&n.setHighlightedIndex(r,e),S(t)()}))},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=O((function(){var e;if(null!=(e=n.props)&&null!=(e=e.environment)&&e.document){var t=n.getState(),i=n.items[t.highlightedIndex],o=n.getItemCount(),u=n.props.getA11yStatusMessage(r({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:o,highlightedItem:i},t));n.previousResultCount=o,U(u,n.props.environment.document)}}),200);var i=n.props,s=i.defaultHighlightedIndex,l=i.initialHighlightedIndex,a=void 0===l?s:l,c=i.defaultIsOpen,d=i.initialIsOpen,p=void 0===d?c:d,f=i.initialInputValue,h=void 0===f?"":f,g=i.initialSelectedItem,m=void 0===g?null:g,I=n.getState({highlightedIndex:a,isOpen:p,inputValue:h,selectedItem:m});return null!=I.selectedItem&&void 0===n.props.initialInputValue&&(I.inputValue=n.props.itemToString(I.selectedItem)),n.state=I,n}i=e,(n=l).prototype=Object.create(i.prototype),n.prototype.constructor=n,s(n,i);var a=l.prototype;return a.internalClearTimeouts=function(){this.timeoutIds.forEach((function(e){clearTimeout(e)})),this.timeoutIds=[]},a.getState=function(e){return void 0===e&&(e=this.state),V(e,this.props)},a.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},a.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},a.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},a.moveHighlightedIndex=function(e,t){var n=this.getItemCount(),i=this.getState().highlightedIndex;if(n>0){var o=L(i,e,{length:n},this.isItemDisabled,!0);this.setHighlightedIndex(o,t)}},a.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,i=e.selectedItem,o=e.isOpen,r=this.props.itemToString,u=this.id,s=this.getRootProps,l=this.getToggleButtonProps,a=this.getLabelProps,c=this.getMenuProps,d=this.getInputProps,p=this.getItemProps,f=this.openMenu,h=this.closeMenu,g=this.toggleMenu,m=this.selectItem,I=this.selectItemAtIndex,v=this.selectHighlightedItem,y=this.setHighlightedIndex,b=this.clearSelection,x=this.clearItems;return{getRootProps:s,getToggleButtonProps:l,getLabelProps:a,getMenuProps:c,getInputProps:d,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:h,toggleMenu:g,selectItem:m,selectItemAtIndex:I,selectHighlightedItem:v,setHighlightedIndex:y,clearSelection:b,clearItems:x,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:r,id:u,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:i}},a.componentDidMount=function(){var e=this;if(this.props.environment){var t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!_(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},i=function(){e.isTouchMove=!1},o=function(){e.isTouchMove=!0},r=function(t){var n=_(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},u=this.props.environment;u.addEventListener("mousedown",t),u.addEventListener("mouseup",n),u.addEventListener("touchstart",i),u.addEventListener("touchmove",o),u.addEventListener("touchend",r),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),u.removeEventListener("mousedown",t),u.removeEventListener("mouseup",n),u.removeEventListener("touchstart",i),u.removeEventListener("touchmove",o),u.removeEventListener("touchend",r)}}else this.cleanup=function(){e.internalClearTimeouts()}},a.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,i=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==i},a.componentDidUpdate=function(e,t){A(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},a.componentWillUnmount=function(){this.cleanup()},a.render=function(){var e=P(this.props.children,C);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var n=P(e(this.getStateAndHelpers()));return n?this.getRootProps.called||this.props.suppressRefError?n:function(e){return"string"==typeof e.type}(n)?t.cloneElement(n,this.getRootProps(function(e){return e.props}(n))):void 0:null},l}(t.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:K,itemToString:function(e){return null==e?"":String(e)},onStateChange:C,onInputValueChange:C,onUserAction:C,onChange:C,onSelect:C,onOuterClick:C,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?void 0:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:k},e.stateChangeTypes=W,e}(),J=["highlightedIndex","items","environment"],Q={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Z(e,t,n){var i=e.props,o=e.type,u={};Object.keys(t).forEach((function(i){!function(e,t,n,i){var o=t.props,u=t.type,s="on"+oe(e)+"Change";o[s]&&void 0!==i[e]&&i[e]!==n[e]&&o[s](r({type:u},i))}(i,e,t,n),n[i]!==t[i]&&(u[i]=n[i])})),i.onStateChange&&Object.keys(u).length&&i.onStateChange(r({type:o},u))}var ee=O((function(e,t){U(e(),t)}),200),te="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,ne="useId"in i.default?function(e){var n=e.id,o=e.labelId,r=e.menuId,u=e.getItemId,s=e.toggleButtonId,l=e.inputId,a="downshift-"+i.default.useId();return n||(n=a),t.useRef({labelId:o||n+"-label",menuId:r||n+"-menu",getItemId:u||function(e){return n+"-item-"+e},toggleButtonId:s||n+"-toggle-button",inputId:l||n+"-input"}).current}:function(e){var n=e.id,i=void 0===n?"downshift-"+T():n,o=e.labelId,r=e.menuId,u=e.getItemId,s=e.toggleButtonId,l=e.inputId;return t.useRef({labelId:o||i+"-label",menuId:r||i+"-menu",getItemId:u||function(e){return i+"-item-"+e},toggleButtonId:s||i+"-toggle-button",inputId:l||i+"-input"}).current};function ie(e,t,n,i){var o,r;if(void 0===e){if(void 0===t)throw new Error(i);o=n[t],r=t}else r=void 0===t?n.indexOf(e):t,o=e;return[o,r]}function oe(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function re(e){var n=t.useRef(e);return n.current=e,n}function ue(e,n,i,o){var u=t.useRef(),s=t.useRef(),l=t.useCallback((function(t,n){s.current=n,t=V(t,n.props);var i=e(t,n);return n.props.stateReducer(t,r({},n,{changes:i}))}),[e]),a=t.useReducer(l,n,i),c=a[0],d=a[1],p=re(n),f=t.useCallback((function(e){return d(r({props:p.current},e))}),[p]),h=s.current;return t.useEffect((function(){var e=V(u.current,null==h?void 0:h.props);h&&u.current&&!o(e,c)&&Z(h,e,c),u.current=c}),[c,h,o]),[c,f]}function se(e,t,n,i){var o=ue(e,t,n,i),r=o[0],u=o[1];return[V(r,t),u]}var le={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:k,environment:"undefined"==typeof window?void 0:window};function ae(e,t,n){void 0===n&&(n=Q);var i=e["default"+oe(t)];return void 0!==i?i:n[t]}function ce(e,t,n){void 0===n&&(n=Q);var i=e[t];if(void 0!==i)return i;var o=e["initial"+oe(t)];return void 0!==o?o:ae(e,t,n)}function de(e){var t=ce(e,"selectedItem"),n=ce(e,"isOpen"),i=ce(e,"highlightedIndex"),o=ce(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex((function(n){return e.itemToKey(n)===e.itemToKey(t)})):i,isOpen:n,selectedItem:t,inputValue:o}}function pe(e,t,n){var i=e.items,o=e.initialHighlightedIndex,r=e.defaultHighlightedIndex,u=e.itemToKey,s=t.selectedItem,l=t.highlightedIndex;return 0===i.length?-1:void 0!==o&&l===o?o:void 0!==r?r:s?i.findIndex((function(e){return u(s)===u(e)})):0===n?-1:n<0?i.length-1:0}function fe(e,n,i){var o=t.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return t.useEffect((function(){if(!e)return C;var t=n.map((function(e){return e.current}));function r(){o.current.isTouchEnd=!1,o.current.isMouseDown=!0}function u(n){o.current.isMouseDown=!1,_(n.target,t,e)||i()}function s(){o.current.isTouchEnd=!1,o.current.isTouchMove=!1}function l(){o.current.isTouchMove=!0}function a(n){o.current.isTouchEnd=!0,o.current.isTouchMove||_(n.target,t,e,!1)||i()}return e.addEventListener("mousedown",r),e.addEventListener("mouseup",u),e.addEventListener("touchstart",s),e.addEventListener("touchmove",l),e.addEventListener("touchend",a),function(){e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",a)}}),[e,i]),o.current}var he=function(){return C};function ge(e,n,i){var u=i.highlightedIndex,s=i.items,l=i.environment,a=o(i,J),c=be();t.useEffect((function(){!c&&null!=l&&l.document&&ee((function(){return e(r({highlightedIndex:u,highlightedItem:s[u],resultCount:s.length},a))}),l.document)}),n)}function me(e){var n=e.highlightedIndex,i=e.isOpen,o=e.itemRefs,r=e.getItemNodeFromIndex,u=e.menuElement,s=e.scrollIntoView,l=t.useRef(!0);return te((function(){n<0||!i||!Object.keys(o.current).length||(!1===l.current?l.current=!0:s(r(n),u))}),[n]),l}var Ie=C;function ve(e,t,n){var i;return void 0===n&&(n=!0),r({isOpen:!1,highlightedIndex:-1},(null==(i=e.items)?void 0:i.length)&&t>=0&&r({selectedItem:e.items[t],isOpen:ae(e,"isOpen"),highlightedIndex:ae(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function ye(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function be(){var e=i.default.useRef(!0);return i.default.useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),e.current}var xe={environment:g.shape({addEventListener:g.func.isRequired,removeEventListener:g.func.isRequired,document:g.shape({createElement:g.func.isRequired,getElementById:g.func.isRequired,activeElement:g.any.isRequired,body:g.any.isRequired}).isRequired,Node:g.func.isRequired}),itemToString:g.func,itemToKey:g.func,stateReducer:g.func},we=r({},xe,{getA11yStatusMessage:g.func,highlightedIndex:g.number,defaultHighlightedIndex:g.number,initialHighlightedIndex:g.number,isOpen:g.bool,defaultIsOpen:g.bool,initialIsOpen:g.bool,selectedItem:g.any,initialSelectedItem:g.any,defaultSelectedItem:g.any,id:g.string,labelId:g.string,menuId:g.string,getItemId:g.func,toggleButtonId:g.string,onSelectedItemChange:g.func,onHighlightedIndexChange:g.func,onStateChange:g.func,onIsOpenChange:g.func,scrollIntoView:g.func});function Se(e,t,n){var i,o=t.type,u=t.props;switch(o){case n.ItemMouseMove:i={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:i={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:pe(u,e,0)};break;case n.FunctionOpenMenu:i={isOpen:!0,highlightedIndex:pe(u,e,0)};break;case n.FunctionCloseMenu:i={isOpen:!1};break;case n.FunctionSetHighlightedIndex:i={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:i={inputValue:t.inputValue};break;case n.FunctionReset:i={highlightedIndex:ae(u,"highlightedIndex"),isOpen:ae(u,"isOpen"),selectedItem:ae(u,"selectedItem"),inputValue:ae(u,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return r({},e,i)}var Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,Ce(Ce({},we),{items:g.array.isRequired,isItemDisabled:g.func,getA11ySelectionMessage:g.func});var ke=Ce(Ce({},le),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?"".concat(n," result").concat(1===n?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""},isItemDisabled:function(){return!1}}),De=C,Oe=1,Me=2,Ee=3,Te=4,Ke=5,Pe=6,Re=7,He=8,Ve=9,Ae=10,Be=11,Le=14,Fe=19,_e=Object.freeze({__proto__:null,ToggleButtonClick:0,ToggleButtonKeyDownArrowDown:Oe,ToggleButtonKeyDownArrowUp:Me,ToggleButtonKeyDownCharacter:Ee,ToggleButtonKeyDownEscape:Te,ToggleButtonKeyDownHome:Ke,ToggleButtonKeyDownEnd:Pe,ToggleButtonKeyDownEnter:Re,ToggleButtonKeyDownSpaceButton:He,ToggleButtonKeyDownPageUp:Ve,ToggleButtonKeyDownPageDown:Ae,ToggleButtonBlur:Be,MenuMouseLeave:12,ItemMouseMove:13,ItemClick:Le,FunctionToggleMenu:15,FunctionOpenMenu:16,FunctionCloseMenu:17,FunctionSetHighlightedIndex:18,FunctionSelectItem:Fe,FunctionSetInputValue:20,FunctionReset:21});function Ne(e,t){var n,i,o=t.type,u=t.props,s=t.altKey;switch(o){case Le:i={isOpen:ae(u,"isOpen"),highlightedIndex:ae(u,"highlightedIndex"),selectedItem:u.items[t.index]};break;case Ee:var l=t.key,a=""+e.inputValue+l;i={inputValue:a,highlightedIndex:function(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,o=e.itemToString,r=e.isItemDisabled,u=t.toLowerCase(),s=0;s<i.length;s++){var l=(s+n+(t.length<2?1:0))%i.length,a=i[l];if(void 0!==a&&o(a).toLowerCase().startsWith(u)&&!r(a,l))return l}return n}({keysSoFar:a,highlightedIndex:!e.isOpen&&e.selectedItem?u.items.findIndex((function(t){return u.itemToKey(t)===u.itemToKey(e.selectedItem)})):e.highlightedIndex,items:u.items,itemToString:u.itemToString,isItemDisabled:u.isItemDisabled}),isOpen:!0};break;case Oe:i={highlightedIndex:e.isOpen?L(e.highlightedIndex,1,u.items,u.isItemDisabled):s&&null==e.selectedItem?-1:pe(u,e,1),isOpen:!0};break;case Me:if(e.isOpen&&s)i=ve(u,e.highlightedIndex,!1);else i={highlightedIndex:e.isOpen?L(e.highlightedIndex,-1,u.items,u.isItemDisabled):pe(u,e,-1),isOpen:!0};break;case Re:case He:i=ve(u,e.highlightedIndex,!1);break;case Ke:i={highlightedIndex:F(0,!1,u.items,u.isItemDisabled),isOpen:!0};break;case Pe:i={highlightedIndex:F(u.items.length-1,!0,u.items,u.isItemDisabled),isOpen:!0};break;case Ve:i={highlightedIndex:L(e.highlightedIndex,-10,u.items,u.isItemDisabled)};break;case Ae:i={highlightedIndex:L(e.highlightedIndex,10,u.items,u.isItemDisabled)};break;case Te:i={isOpen:!1,highlightedIndex:-1};break;case Be:i=r({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=u.items)?void 0:n.length)&&{selectedItem:u.items[e.highlightedIndex]});break;case Fe:i={selectedItem:t.selectedItem};break;default:return Se(e,t,_e)}return r({},e,i)}var je=["onClick"],Ue=["onMouseLeave","refKey","ref"],We=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],$e=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];function qe(e){void 0===e&&(e={}),De();var n=r({},ke,e),i=n.items,u=n.scrollIntoView,s=n.environment,l=n.itemToString,a=n.getA11ySelectionMessage,c=n.getA11yStatusMessage,d=se(Ne,n,de,ye),p=d[0],f=d[1],h=p.isOpen,g=p.highlightedIndex,m=p.selectedItem,I=p.inputValue,v=t.useRef(null),y=t.useRef(null),b=t.useRef({}),x=t.useRef(null),w=ne(n),S=t.useRef(),C=be(),k=re({state:p,props:n}),D=t.useCallback((function(e){return b.current[w.getItemId(e)]}),[w]);ge(c,[h,g,I,i],r({previousResultCount:S.current,items:i,environment:s,itemToString:l},p)),ge(a,[m],r({previousResultCount:S.current,items:i,environment:s,itemToString:l},p));var T=me({menuElement:y.current,highlightedIndex:g,isOpen:h,itemRefs:b,scrollIntoView:u,getItemNodeFromIndex:D});t.useEffect((function(){return x.current=O((function(e){e({type:20,inputValue:""})}),500),function(){x.current.cancel()}}),[]),t.useEffect((function(){I&&x.current(f)}),[f,I]),Ie(),t.useEffect((function(){C||(S.current=i.length)})),t.useEffect((function(){ce(n,"isOpen")&&v.current&&v.current.focus()}),[]);var K=fe(s,[v,y],t.useCallback((function(){k.current.state.isOpen&&f({type:Be})}),[f,k])),P=he();t.useEffect((function(){h||(b.current={})}),[h]);var R=t.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),f({type:Oe,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),f({type:Me,altKey:e.altKey})},Home:function(e){e.preventDefault(),f({type:Ke})},End:function(e){e.preventDefault(),f({type:Pe})},Escape:function(){k.current.state.isOpen&&f({type:Te})},Enter:function(e){e.preventDefault(),f({type:k.current.state.isOpen?Re:0})},PageUp:function(e){k.current.state.isOpen&&(e.preventDefault(),f({type:Ve}))},PageDown:function(e){k.current.state.isOpen&&(e.preventDefault(),f({type:Ae}))}," ":function(e){e.preventDefault();var t=k.current.state;t.isOpen?t.inputValue?f({type:Ee,key:" "}):f({type:He}):f({type:0})}}}),[f,k]),H=t.useCallback((function(){f({type:15})}),[f]),V=t.useCallback((function(){f({type:17})}),[f]),A=t.useCallback((function(){f({type:16})}),[f]),L=t.useCallback((function(e){f({type:18,highlightedIndex:e})}),[f]),F=t.useCallback((function(e){f({type:Fe,selectedItem:e})}),[f]),_=t.useCallback((function(){f({type:21})}),[f]),N=t.useCallback((function(e){f({type:20,inputValue:e})}),[f]),j=t.useCallback((function(e){var t=void 0===e?{}:e,n=t.onClick,i=o(t,je);return r({id:w.labelId,htmlFor:w.toggleButtonId,onClick:M(n,(function(){var e;null==(e=v.current)||e.focus()}))},i)}),[w]),U=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,u=i.onMouseLeave,s=i.refKey,l=void 0===s?"ref":s,a=i.ref,c=o(i,Ue),d=(void 0===t?{}:t).suppressRefError;return P("getMenuProps",void 0!==d&&d,l,y),r(((n={})[l]=E(a,(function(e){y.current=e})),n.id=w.menuId,n.role="listbox",n["aria-labelledby"]=c&&c["aria-label"]?void 0:""+w.labelId,n.onMouseLeave=M(u,(function(){f({type:12})})),n),c)}),[f,P,w]),W=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,u=i.onBlur,s=i.onClick;i.onPress;var l=i.onKeyDown,a=i.refKey,c=void 0===a?"ref":a,d=i.ref,p=o(i,We),h=(void 0===t?{}:t).suppressRefError,g=void 0!==h&&h,m=k.current.state,I=r(((n={})[c]=E(d,(function(e){v.current=e})),n["aria-activedescendant"]=m.isOpen&&m.highlightedIndex>-1?w.getItemId(m.highlightedIndex):"",n["aria-controls"]=w.menuId,n["aria-expanded"]=k.current.state.isOpen,n["aria-haspopup"]="listbox",n["aria-labelledby"]=p&&p["aria-label"]?void 0:""+w.labelId,n.id=w.toggleButtonId,n.role="combobox",n.tabIndex=0,n.onBlur=M(u,(function(){m.isOpen&&!K.isMouseDown&&f({type:Be})})),n),p);return p.disabled||(I.onClick=M(s,(function(){f({type:0})})),I.onKeyDown=M(l,(function(e){var t=B(e);t&&R[t]?R[t](e):function(e){return/^\S{1}$/.test(e)}(t)&&f({type:Ee,key:t})}))),P("getToggleButtonProps",g,c,v),I}),[f,w,k,K,P,R]),$=t.useCallback((function(e){var t,n=void 0===e?{}:e,i=n.item,u=n.index,s=n.onMouseMove,l=n.onClick,a=n.onMouseDown;n.onPress;var c=n.refKey,d=void 0===c?"ref":c,p=n.disabled,h=n.ref,g=o(n,$e);void 0!==p&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var m=k.current,I=m.state,v=m.props,y=ie(i,u,v.items,"Pass either item or index to getItemProps!"),x=y[0],S=y[1],C=v.isItemDisabled(x,S),D=r(((t={})[d]=E(h,(function(e){e&&(b.current[w.getItemId(S)]=e)})),t["aria-disabled"]=C,t["aria-selected"]=""+(x===I.selectedItem),t.id=w.getItemId(S),t.role="option",t),g);return C||(D.onClick=M(l,(function(){f({type:Le,index:S})}))),D.onMouseMove=M(s,(function(){K.isTouchEnd||S===I.highlightedIndex||(T.current=!1,f({type:13,index:S,disabled:C}))})),D.onMouseDown=M(a,(function(e){return e.preventDefault()})),D}),[k,w,K,T,f]);return{getToggleButtonProps:W,getLabelProps:j,getMenuProps:U,getItemProps:$,toggleMenu:H,openMenu:A,closeMenu:V,setHighlightedIndex:L,selectItem:F,reset:_,setInputValue:N,highlightedIndex:g,isOpen:h,selectedItem:m,inputValue:I}}qe.stateChangeTypes=_e;var ze=0,Ye=1,Xe=2,Ge=3,Je=4,Qe=5,Ze=6,et=7,tt=8,nt=9,it=10,ot=13,rt=19,ut=22,st=Object.freeze({__proto__:null,InputKeyDownArrowDown:ze,InputKeyDownArrowUp:Ye,InputKeyDownEscape:Xe,InputKeyDownHome:Ge,InputKeyDownEnd:Je,InputKeyDownPageUp:Qe,InputKeyDownPageDown:Ze,InputKeyDownEnter:et,InputChange:tt,InputBlur:nt,InputClick:it,MenuMouseLeave:11,ItemMouseMove:12,ItemClick:ot,ToggleButtonClick:14,FunctionToggleMenu:15,FunctionOpenMenu:16,FunctionCloseMenu:17,FunctionSetHighlightedIndex:18,FunctionSelectItem:rt,FunctionSetInputValue:20,FunctionReset:21,ControlledPropUpdatedSelectedItem:ut});function lt(e){var t=de(e),n=t.selectedItem,i=t.inputValue;return""===i&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(i=e.itemToString(n)),r({},t,{inputValue:i})}r({},we,{items:g.array.isRequired,isItemDisabled:g.func,selectedItemChanged:g.func,getA11ySelectionMessage:g.func,inputValue:g.string,defaultInputValue:g.string,initialInputValue:g.string,inputId:g.string,onInputValueChange:g.func});var at=C,ct=r({},le,{getA11yStatusMessage:K,isItemDisabled:function(){return!1}});function dt(e,t){var n,i,o=t.type,u=t.props,s=t.altKey;switch(o){case ot:i={isOpen:ae(u,"isOpen"),highlightedIndex:ae(u,"highlightedIndex"),selectedItem:u.items[t.index],inputValue:u.itemToString(u.items[t.index])};break;case ze:i=e.isOpen?{highlightedIndex:L(e.highlightedIndex,1,u.items,u.isItemDisabled,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:pe(u,e,1),isOpen:u.items.length>=0};break;case Ye:i=e.isOpen?s?ve(u,e.highlightedIndex):{highlightedIndex:L(e.highlightedIndex,-1,u.items,u.isItemDisabled,!0)}:{highlightedIndex:pe(u,e,-1),isOpen:u.items.length>=0};break;case et:i=ve(u,e.highlightedIndex);break;case Xe:i=r({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Qe:i={highlightedIndex:L(e.highlightedIndex,-10,u.items,u.isItemDisabled,!0)};break;case Ze:i={highlightedIndex:L(e.highlightedIndex,10,u.items,u.isItemDisabled,!0)};break;case Ge:i={highlightedIndex:F(0,!1,u.items,u.isItemDisabled)};break;case Je:i={highlightedIndex:F(u.items.length-1,!0,u.items,u.isItemDisabled)};break;case nt:i=r({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=u.items)?void 0:n.length)&&t.selectItem&&{selectedItem:u.items[e.highlightedIndex],inputValue:u.itemToString(u.items[e.highlightedIndex])});break;case tt:i={isOpen:!0,highlightedIndex:ae(u,"highlightedIndex"),inputValue:t.inputValue};break;case it:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:pe(u,e,0)};break;case rt:i={selectedItem:t.selectedItem,inputValue:u.itemToString(t.selectedItem)};break;case ut:i={inputValue:t.inputValue};break;default:return Se(e,t,st)}return r({},e,i)}var pt=["onMouseLeave","refKey","ref"],ft=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],ht=["onClick","onPress","refKey","ref"],gt=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function mt(e){void 0===e&&(e={}),at();var n=r({},ct,e),i=n.items,u=n.scrollIntoView,s=n.environment,l=n.getA11yStatusMessage,a=n.getA11ySelectionMessage,c=n.itemToString,d=function(e,n,i,o){var r=t.useRef(),u=ue(e,n,i,o),s=u[0],l=u[1],a=be();return t.useEffect((function(){var e;A(n,"selectedItem")&&(a||(void 0===n.selectedItemChanged?e=n.itemToKey(n.selectedItem)!==n.itemToKey(r.current):(console.warn('The "selectedItemChanged" is deprecated. Please use "itemToKey instead". https://github.com/downshift-js/downshift/blob/master/src/hooks/useCombobox/README.md#selecteditemchanged'),e=n.selectedItemChanged(r.current,n.selectedItem)),e&&l({type:ut,inputValue:n.itemToString(n.selectedItem)})),r.current=s.selectedItem===r.current?n.selectedItem:s.selectedItem)}),[s.selectedItem,n.selectedItem]),[V(s,n),l]}(dt,n,lt,ye),p=d[0],f=d[1],h=p.isOpen,g=p.highlightedIndex,m=p.selectedItem,I=p.inputValue,v=t.useRef(null),y=t.useRef({}),b=t.useRef(null),x=t.useRef(null),w=be(),S=ne(n),C=t.useRef(),k=re({state:p,props:n}),D=t.useCallback((function(e){return y.current[S.getItemId(e)]}),[S]);ge(l,[h,g,I,i],r({previousResultCount:C.current,items:i,environment:s,itemToString:c},p)),ge(a,[m],r({previousResultCount:C.current,items:i,environment:s,itemToString:c},p));var O=me({menuElement:v.current,highlightedIndex:g,isOpen:h,itemRefs:y,scrollIntoView:u,getItemNodeFromIndex:D});Ie(),t.useEffect((function(){ce(n,"isOpen")&&b.current&&b.current.focus()}),[]),t.useEffect((function(){w||(C.current=i.length)}));var T=fe(s,[x,v,b],t.useCallback((function(){k.current.state.isOpen&&f({type:nt,selectItem:!1})}),[f,k])),K=he();t.useEffect((function(){h||(y.current={})}),[h]),t.useEffect((function(){var e;h&&null!=s&&s.document&&null!=b&&null!=(e=b.current)&&e.focus&&s.document.activeElement!==b.current&&b.current.focus()}),[h,s]);var P=t.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),f({type:ze,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),f({type:Ye,altKey:e.altKey})},Home:function(e){k.current.state.isOpen&&(e.preventDefault(),f({type:Ge}))},End:function(e){k.current.state.isOpen&&(e.preventDefault(),f({type:Je}))},Escape:function(e){var t=k.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),f({type:Xe}))},Enter:function(e){k.current.state.isOpen&&229!==e.which&&(e.preventDefault(),f({type:et}))},PageUp:function(e){k.current.state.isOpen&&(e.preventDefault(),f({type:Qe}))},PageDown:function(e){k.current.state.isOpen&&(e.preventDefault(),f({type:Ze}))}}}),[f,k]),R=t.useCallback((function(e){return r({id:S.labelId,htmlFor:S.inputId},e)}),[S]),H=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,u=i.onMouseLeave,s=i.refKey,l=void 0===s?"ref":s,a=i.ref,c=o(i,pt),d=(void 0===t?{}:t).suppressRefError;return K("getMenuProps",void 0!==d&&d,l,v),r(((n={})[l]=E(a,(function(e){v.current=e})),n.id=S.menuId,n.role="listbox",n["aria-labelledby"]=c&&c["aria-label"]?void 0:""+S.labelId,n.onMouseLeave=M(u,(function(){f({type:11})})),n),c)}),[f,K,S]),L=t.useCallback((function(e){var t,n,i=void 0===e?{}:e,u=i.item,s=i.index,l=i.refKey,a=void 0===l?"ref":l,c=i.ref,d=i.onMouseMove,p=i.onMouseDown,h=i.onClick;i.onPress;var g=i.disabled,m=o(i,ft);void 0!==g&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var I=k.current,v=I.props,b=I.state,x=ie(u,s,v.items,"Pass either item or index to getItemProps!"),w=x[0],C=x[1],D=v.isItemDisabled(w,C),K=h;return r(((t={})[a]=E(c,(function(e){e&&(y.current[S.getItemId(C)]=e)})),t["aria-disabled"]=D,t["aria-selected"]=""+(C===b.highlightedIndex),t.id=S.getItemId(C),t.role="option",t),!D&&((n={}).onClick=M(K,(function(){f({type:ot,index:C})})),n),{onMouseMove:M(d,(function(){T.isTouchEnd||C===b.highlightedIndex||(O.current=!1,f({type:12,index:C,disabled:D}))})),onMouseDown:M(p,(function(e){return e.preventDefault()}))},m)}),[f,S,k,T,O]),F=t.useCallback((function(e){var t,n=void 0===e?{}:e,i=n.onClick;n.onPress;var u=n.refKey,s=void 0===u?"ref":u,l=n.ref,a=o(n,ht),c=k.current.state;return r(((t={})[s]=E(l,(function(e){x.current=e})),t["aria-controls"]=S.menuId,t["aria-expanded"]=c.isOpen,t.id=S.toggleButtonId,t.tabIndex=-1,t),!a.disabled&&r({},{onClick:M(i,(function(){f({type:14})}))}),a)}),[f,k,S]),_=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,u=i.onKeyDown,l=i.onChange,a=i.onInput,c=i.onBlur;i.onChangeText;var d=i.onClick,p=i.refKey,h=void 0===p?"ref":p,g=i.ref,m=o(i,gt),I=(void 0===t?{}:t).suppressRefError;K("getInputProps",void 0!==I&&I,h,b);var v,y=k.current.state,x={};m.disabled||((v={}).onChange=M(l,a,(function(e){f({type:tt,inputValue:e.target.value})})),v.onKeyDown=M(u,(function(e){var t=B(e);t&&P[t]&&P[t](e)})),v.onBlur=M(c,(function(e){if(null!=s&&s.document&&y.isOpen&&!T.isMouseDown){var t=null===e.relatedTarget&&s.document.activeElement!==s.document.body;f({type:nt,selectItem:!t})}})),v.onClick=M(d,(function(){f({type:it})})),x=v);return r(((n={})[h]=E(g,(function(e){b.current=e})),n["aria-activedescendant"]=y.isOpen&&y.highlightedIndex>-1?S.getItemId(y.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=S.menuId,n["aria-expanded"]=y.isOpen,n["aria-labelledby"]=m&&m["aria-label"]?void 0:S.labelId,n.autoComplete="off",n.id=S.inputId,n.role="combobox",n.value=y.inputValue,n),x,m)}),[f,S,s,P,k,T,K]),N=t.useCallback((function(){f({type:15})}),[f]),j=t.useCallback((function(){f({type:17})}),[f]),U=t.useCallback((function(){f({type:16})}),[f]),W=t.useCallback((function(e){f({type:18,highlightedIndex:e})}),[f]),$=t.useCallback((function(e){f({type:rt,selectedItem:e})}),[f]);return{getItemProps:L,getLabelProps:R,getMenuProps:H,getInputProps:_,getToggleButtonProps:F,toggleMenu:N,openMenu:U,closeMenu:j,setHighlightedIndex:W,setInputValue:t.useCallback((function(e){f({type:20,inputValue:e})}),[f]),selectItem:$,reset:t.useCallback((function(){f({type:21})}),[f]),highlightedIndex:g,isOpen:h,selectedItem:m,inputValue:I}}mt.stateChangeTypes=st;var It={activeIndex:-1,selectedItems:[]};function vt(e,t){return ce(e,t,It)}function yt(e,t){return ae(e,t,It)}function bt(e){return{activeIndex:vt(e,"activeIndex"),selectedItems:vt(e,"selectedItems")}}function xt(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}function wt(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}r({},xe,{selectedItems:g.array,initialSelectedItems:g.array,defaultSelectedItems:g.array,getA11yRemovalMessage:g.func,activeIndex:g.number,initialActiveIndex:g.number,defaultActiveIndex:g.number,onActiveIndexChange:g.func,onSelectedItemsChange:g.func,keyNavigationNext:g.string,keyNavigationPrevious:g.string});var St={itemToString:le.itemToString,itemToKey:le.itemToKey,stateReducer:le.stateReducer,environment:le.environment,getA11yRemovalMessage:function(e){var t=e.removedSelectedItem;return(0,e.itemToString)(t)+" has been removed."},keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Ct=C,kt=0,Dt=1,Ot=2,Mt=3,Et=4,Tt=5,Kt=6,Pt=7,Rt=8,Ht=9,Vt=10,At=11,Bt=12,Lt=Object.freeze({__proto__:null,SelectedItemClick:kt,SelectedItemKeyDownDelete:Dt,SelectedItemKeyDownBackspace:Ot,SelectedItemKeyDownNavigationNext:Mt,SelectedItemKeyDownNavigationPrevious:Et,DropdownKeyDownNavigationPrevious:Tt,DropdownKeyDownBackspace:Kt,DropdownClick:Pt,FunctionAddSelectedItem:Rt,FunctionRemoveSelectedItem:Ht,FunctionSetSelectedItems:Vt,FunctionSetActiveIndex:At,FunctionReset:Bt});function Ft(e,t){var n,i=t.type,o=t.index,u=t.props,s=t.selectedItem,l=e.activeIndex,a=e.selectedItems;switch(i){case kt:n={activeIndex:o};break;case Et:n={activeIndex:l-1<0?0:l-1};break;case Mt:n={activeIndex:l+1>=a.length?-1:l+1};break;case Ot:case Dt:if(l<0)break;var c=l;1===a.length?c=-1:l===a.length-1&&(c=a.length-2),n=r({selectedItems:[].concat(a.slice(0,l),a.slice(l+1))},{activeIndex:c});break;case Tt:n={activeIndex:a.length-1};break;case Kt:n={selectedItems:a.slice(0,a.length-1)};break;case Rt:n={selectedItems:[].concat(a,[s])};break;case Pt:n={activeIndex:-1};break;case Ht:var d=l,p=a.findIndex((function(e){return u.itemToKey(e)===u.itemToKey(s)}));if(p<0)break;1===a.length?d=-1:p===a.length-1&&(d=a.length-2),n={selectedItems:[].concat(a.slice(0,p),a.slice(p+1)),activeIndex:d};break;case Vt:n={selectedItems:t.selectedItems};break;case At:n={activeIndex:t.activeIndex};break;case Bt:n={activeIndex:yt(u,"activeIndex"),selectedItems:yt(u,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return r({},e,n)}var _t=["refKey","ref","onClick","onKeyDown","selectedItem","index"],Nt=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function jt(e){void 0===e&&(e={}),Ct();var n=r({},St,e),i=n.getA11yRemovalMessage,u=n.itemToString,s=n.environment,l=n.keyNavigationNext,a=n.keyNavigationPrevious,c=se(Ft,n,bt,wt),d=c[0],p=c[1],f=d.activeIndex,h=d.selectedItems,g=be(),m=t.useRef(null),I=t.useRef(h),v=t.useRef();v.current=[];var y=re({state:d,props:n});t.useEffect((function(){if(!g&&null!=s&&s.document){if(h.length<I.current.length){var e=I.current.find((function(e){return h.findIndex((function(t){return n.itemToKey(t)===n.itemToKey(e)}))<0}));U(i({itemToString:u,resultCount:h.length,removedSelectedItem:e,activeIndex:f,activeSelectedItem:h[f]}),s.document)}I.current=h}}),[h.length]),t.useEffect((function(){g||(-1===f&&m.current?m.current.focus():v.current[f]&&v.current[f].focus())}),[f]),Ie();var b=he(),x=t.useMemo((function(){var e;return(e={})[a]=function(){p({type:Et})},e[l]=function(){p({type:Mt})},e.Delete=function(){p({type:Dt})},e.Backspace=function(){p({type:Ot})},e}),[p,l,a]),w=t.useMemo((function(){var e;return(e={})[a]=function(e){xt(e)&&p({type:Tt})},e.Backspace=function(e){xt(e)&&p({type:Kt})},e}),[p,a]);return{getSelectedItemProps:t.useCallback((function(e){var t,n=void 0===e?{}:e,i=n.refKey,u=void 0===i?"ref":i,s=n.ref,l=n.onClick,a=n.onKeyDown,c=n.selectedItem,d=n.index,f=o(n,_t),h=y.current.state,g=ie(c,d,h.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],m=g>-1&&g===h.activeIndex;return r(((t={})[u]=E(s,(function(e){e&&v.current.push(e)})),t.tabIndex=m?0:-1,t.onClick=M(l,(function(){p({type:kt,index:g})})),t.onKeyDown=M(a,(function(e){var t=B(e);t&&x[t]&&x[t](e)})),t),f)}),[p,y,x]),getDropdownProps:t.useCallback((function(e,t){var n,i=void 0===e?{}:e,u=i.refKey,s=void 0===u?"ref":u,l=i.ref,a=i.onKeyDown,c=i.onClick,d=i.preventKeyAction,f=void 0!==d&&d,h=o(i,Nt),g=(void 0===t?{}:t).suppressRefError;return b("getDropdownProps",void 0!==g&&g,s,m),r(((n={})[s]=E(l,(function(e){e&&(m.current=e)})),n),!f&&{onKeyDown:M(a,(function(e){var t=B(e);t&&w[t]&&w[t](e)})),onClick:M(c,(function(){p({type:Pt})}))},h)}),[p,w,b]),addSelectedItem:t.useCallback((function(e){p({type:Rt,selectedItem:e})}),[p]),removeSelectedItem:t.useCallback((function(e){p({type:Ht,selectedItem:e})}),[p]),setSelectedItems:t.useCallback((function(e){p({type:Vt,selectedItems:e})}),[p]),setActiveIndex:t.useCallback((function(e){p({type:At,activeIndex:e})}),[p]),reset:t.useCallback((function(){p({type:Bt})}),[p]),selectedItems:h,activeIndex:f}}jt.stateChangeTypes=Lt,e.default=G,e.resetIdCounter=function(){"useId"in i.default?console.warn("It is not necessary to call resetIdCounter when using React 18+"):w=0},e.useCombobox=mt,e.useMultipleSelection=jt,e.useSelect=qe,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=downshift.umd.min.js.map
