(()=>{var e={};e.id=957,e.ids=[957],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},1030:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>r});var a=s(67096),n=s(16132),l=s(37284),i=s.n(l),o=s(32564),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let r=["",{children:["excel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,25769)),"/Users/siraj/development/integration_hub/web/src/app/excel/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,85941)),"/Users/siraj/development/integration_hub/web/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/siraj/development/integration_hub/web/src/app/excel/page.js"],h="/excel/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/excel/page",pathname:"/excel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:r}})},73511:(e,t,s)=>{Promise.resolve().then(s.bind(s,65249))},65249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(30784),n=s(9885),l=s(11070),i=s(40116),o=s(21145);s(29271),s(86478);var d=s(40335);let TemplateMapPOC=class TemplateMapPOC extends n.Component{constructor(e){super(e),this.getJsonDataType4=()=>({id:1,text_value:"",uploaded_column:"",operation_value:"",operation_elements:["Append","+","-","*","/"]}),this.getJsonDataType1=(e,t)=>({id:0,name:e,label:t,type:"2",text_value:"",uploaded_column:this.findSuitableUploadedColumn(t),list:[]}),this.getJsonDataType2=(e,t)=>({id:0,name:e,label:t,type:"2",text_value:"",uploaded_column:this.findSuitableUploadedColumn(t),list:[this.getJsonDataType4()]}),this.getJsonDataType2_with_default=(e,t,s)=>({id:0,name:e,label:t,type:"2",text_value:s,uploaded_column:this.findSuitableUploadedColumn(t),list:[this.getJsonDataType4()]}),this.getJsonDataType3=(e,t,s)=>({id:0,name:e,label:t,type:"3",text_value:"",list_value:"",uploaded_column:this.findSuitableUploadedColumn(t),list_elements:s,list:[this.getJsonDataType4()]}),this.setLoading=e=>{this.setState(t=>{let s={...t};return s.loading=e,s})},this.setUploadedColumns=e=>{this.setState(t=>{let s={...t};return s.uploaded_columns=e,s})},this.setPageData=e=>{this.setState(t=>{let s={...t};return s.pageData=e,s}),this.props.onChildDataChange(this.state)},this.addItemAfterIndex=(e,t)=>{setItems(s=>[...s.slice(0,t+1),e,...s.slice(t+1)])},this.addNewElementAfterId=(e,t)=>{let s=items.findIndex(t=>t.id===e);-1!==s&&addItemAfterIndex(t,s)},this.findItemIndexByName=e=>{let t=this.state.pageData;for(let s=0;s<t.length;s++){let a=t[s];if(a.name===e)return s}return -1},this.addField=(e,t)=>{let s=this.findItemIndexByName(e);if(-1!==s){let e=this.getJsonDataType4(),a=this.state.pageData[s];a.list.splice(t,0,e),this.setState(e=>{let t={...e};return t.pageData[s].list=a.list,t})}},this.removeField=(e,t)=>{let s=this.findItemIndexByName(e);if(-1!==s){let e=this.state.pageData[s];e.list.splice(t,1),this.setState(t=>{let a={...t};return a.pageData[s].list=e.list,a})}},this.handleTextValueChange=(e,t)=>{let s=this.findItemIndexByName(t);-1!==s&&this.setState(t=>{let{value:a}=e.target,n={...t};return n.pageData[s].text_value=a,this.props.onChildDataChange(n),n})},this.handleListValueChange=(e,t)=>{let s=this.findItemIndexByName(t);console.info("handleListValueChange --11111>fieldIndex : "+s),-1!==s&&this.setState(t=>{let a=e.selectedItem,n={...t};return console.info("handleListValueChange -->value : "+a),n.pageData[s].list_value=a,this.props.onChildDataChange(n),n})},this.handleUploadedColumnValueChange=(e,t)=>{let s=this.findItemIndexByName(t);console.info("handleUploadedColumnValueChange -222->fieldIndex : "+s),-1!==s&&this.setState(t=>{let a=e.selectedItem,n={...t};return n.pageData[s].uploaded_column=a,console.info("handleUploadedColumnValueChange -->value : "+a),this.props.onChildDataChange(n),n})},this.handleSubTextValueChange=(e,t,s)=>{let a=this.findItemIndexByName(t);-1!==a&&this.setState(t=>{let{value:n}=e.target,l={...t};return l.pageData[a].list[s].text_value=n,this.props.onChildDataChange(l),l})},this.handleSubListValueChange=(e,t,s)=>{let a=this.findItemIndexByName(t);-1!==a&&this.setState(t=>{let n=e.selectedItem,l={...t};return l.pageData[a].list[s].uploaded_column=n,this.props.onChildDataChange(l),l})},this.handleOperationListValueChange=(e,t,s)=>{let a=this.findItemIndexByName(t);-1!==a&&this.setState(t=>{let n=e.selectedItem,l={...t};return l.pageData[a].list[s].operation_value=n,this.props.onChildDataChange(l),l})},this.onClickIngestPOC=async()=>{await this.props.onChildDataChange(this.state),this.props.ingestButtonClickParentMethod()},this.state={loading:!1,pageData:[],uploaded_columns:this.props.uploaded_columns,locations:this.props.locations,accounts:this.props.accounts}}findSuitableUploadedColumn(e){var t=this.state.uploaded_columns;for(let s of t)if(s===e)return s;for(let s of t)if(s.includes(e))return s;for(let s of t)if(e.includes(s))return s;return e}handleLoad(){let e=["",...this.state.uploaded_columns];this.setUploadedColumns(e);var t=[];t.push(this.getJsonDataType1("organization","Organization")),t.push(this.getJsonDataType3("location","Location",this.state.locations)),t.push(this.getJsonDataType2("account_style","Account Style Caption")),t.push(this.getJsonDataType3("account_name","Account Number",this.state.accounts)),t.push(this.getJsonDataType2("account_ref","Account Reference")),t.push(this.getJsonDataType2("account_supplier","Account Supplier")),t.push(this.getJsonDataType2_with_default("record_start","Record Start YYYY-MM-DD","2024-01-01")),t.push(this.getJsonDataType2_with_default("record_end","Record End YYYY-MM-DD","2024-01-01")),t.push(this.getJsonDataType2("quantity","Quantity")),t.push(this.getJsonDataType2("total_cost","Total cost (incl. Tax) in local currency")),t.push(this.getJsonDataType2("record_reference","Record Reference")),t.push(this.getJsonDataType2("record_invoice_number","Record Invoice Number")),t.push(this.getJsonDataType2("record_data_quality","Record Data Quality")),this.setPageData(t),console.info(JSON.stringify(t,null,2))}componentDidMount(){this.handleLoad()}render(){return this.state.loading?a.jsx("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"my-component",children:[(0,a.jsxs)("div",{className:"fin-header-section",children:[a.jsx("div",{className:"fin-text-heading",children:"Data Mapping"}),a.jsx("div",{className:"fin-text-heading-label",children:"Map the data from your uploaded excel file to the template columns"})]}),(0,a.jsxs)("div",{className:"fin-container",children:[this.state.pageData.map((e,t)=>(0,a.jsxs)("div",{className:"fin-mapping-container",children:[a.jsx("div",{className:"fin-mapping-container2",children:(0,a.jsxs)("div",{className:"fin-row",children:[a.jsx("div",{className:"fin-column",children:a.jsx("div",{className:"fin-field-label",children:e.label})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.TextInput,{className:"fin-text-box",value:e.text_value,size:"md",onChange:t=>this.handleTextValueChange(t,e.name)})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.Dropdown,{className:"gan-dropdown-uploaded-columns",items:this.state.uploaded_columns,selectedItem:e.uploaded_column,size:"md",type:"default",onChange:t=>this.handleUploadedColumnValueChange(t,e.name)})}),a.jsx("div",{className:"fin-column",children:3==e.type&&a.jsx(i.Dropdown,{className:"gan-dropdown-existing-values",items:e.list_elements,size:"md",type:"default",selectedItem:e.list_value,onChange:t=>this.handleListValueChange(t,e.name)})})]})}),a.jsx("div",{className:"fin-mapping-container2",children:(2==e.type||3==e.type)&&e.list.map((t,s)=>(0,a.jsxs)("div",{className:"fin-row",children:[a.jsx("div",{className:"fin-column",children:a.jsx("div",{className:"fin-field-label"})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.TextInput,{className:"fin-text-box1",value:t.text_value,onChange:t=>this.handleSubTextValueChange(t,e.name,s)})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.Dropdown,{className:"gan-dropdown-uploaded-columns",items:this.state.uploaded_columns,selectedItem:t.uploaded_column,type:"default",onChange:t=>this.handleSubListValueChange(t,e.name,s)})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.Dropdown,{className:"gan-dropdown-operation",items:t.operation_elements,selectedItem:t.operation_value,type:"default",onChange:t=>this.handleOperationListValueChange(t,e.name,s)})}),(0,a.jsxs)("div",{className:"fin-column",children:[a.jsx(i.Button,{kind:"secondary",className:"fin-button-icon",hasIconOnly:!0,renderIcon:d.Add,iconDescription:"Add",size:"sm",onClick:()=>this.addField(e.name,s+1)}),a.jsx(i.Button,{kind:"secondary",className:"fin-button-icon",hasIconOnly:!0,renderIcon:d.TrashCan,iconDescription:"Delete",size:"sm",onClick:()=>this.removeField(e.name,s)})]})]}))})]})),a.jsx("div",{className:"fin-mapping-container",children:(0,a.jsxs)("div",{className:"fin-row",children:[a.jsx("div",{className:"fin-column",children:a.jsx(i.Button,{className:"btn-success button-excel",onClick:this.onClickIngestPOC,children:"Ingest"})}),a.jsx("div",{className:"fin-row",children:a.jsx("div",{children:a.jsx("span",{className:"instruction-msg",children:this.props.resultIngestPOC&&this.props.resultIngestPOC.msg})})})]})})]})]})}};let TemplateMapASDL=class TemplateMapASDL extends n.Component{constructor(e){super(e),this.getJsonDataType4=()=>({id:1,text_value:"",uploaded_column:"",operation_value:"",operation_elements:["Append","+","-","*","/"]}),this.getJsonDataType1=(e,t)=>({id:0,name:e,label:t,type:"2",text_value:"",uploaded_column:this.findSuitableUploadedColumn(t),list:[]}),this.getJsonDataType2=(e,t)=>({id:0,name:e,label:t,type:"2",text_value:"",uploaded_column:this.findSuitableUploadedColumn(t),list:[this.getJsonDataType4()]}),this.getJsonDataType2_with_default=(e,t,s)=>({id:0,name:e,label:t,type:"2",text_value:s,uploaded_column:this.findSuitableUploadedColumn(t),list:[this.getJsonDataType4()]}),this.getJsonDataType3=(e,t,s)=>({id:0,name:e,label:t,type:"3",text_value:"",list_value:"",uploaded_column:this.findSuitableUploadedColumn(t),list_elements:s,list:[this.getJsonDataType4()]}),this.setLoading=e=>{this.setState(t=>{let s={...t};return s.loading=e,s})},this.setUploadedColumns=e=>{this.setState(t=>{let s={...t};return s.uploaded_columns=e,s})},this.setPageData=e=>{this.setState(t=>{let s={...t};return s.pageData=e,s}),this.props.onChildDataChange(this.state)},this.addItemAfterIndex=(e,t)=>{setItems(s=>[...s.slice(0,t+1),e,...s.slice(t+1)])},this.addNewElementAfterId=(e,t)=>{let s=items.findIndex(t=>t.id===e);-1!==s&&addItemAfterIndex(t,s)},this.findItemIndexByName=e=>{let t=this.state.pageData;for(let s=0;s<t.length;s++){let a=t[s];if(a.name===e)return s}return -1},this.addField=(e,t)=>{let s=this.findItemIndexByName(e);if(-1!==s){let e=this.getJsonDataType4(),a=this.state.pageData[s];a.list.splice(t,0,e),this.setState(e=>{let t={...e};return t.pageData[s].list=a.list,t})}},this.removeField=(e,t)=>{let s=this.findItemIndexByName(e);if(-1!==s){let e=this.state.pageData[s];e.list.splice(t,1),this.setState(t=>{let a={...t};return a.pageData[s].list=e.list,a})}},this.handleTextValueChange=(e,t)=>{let s=this.findItemIndexByName(t);-1!==s&&this.setState(t=>{let{value:a}=e.target,n={...t};return n.pageData[s].text_value=a,this.props.onChildDataChange(n),n})},this.handleListValueChange=(e,t)=>{let s=this.findItemIndexByName(t);-1!==s&&this.setState(t=>{let a=e.selectedItem,n={...t};return n.pageData[s].list_value=a,this.props.onChildDataChange(n),n})},this.handleUploadedColumnValueChange=(e,t)=>{let s=this.findItemIndexByName(t);-1!==s&&this.setState(t=>{let a=e.selectedItem,n={...t};return n.pageData[s].uploaded_column=a,this.props.onChildDataChange(n),n})},this.handleSubTextValueChange=(e,t,s)=>{let a=this.findItemIndexByName(t);-1!==a&&this.setState(t=>{let{value:n}=e.target,l={...t};return l.pageData[a].list[s].text_value=n,this.props.onChildDataChange(l),l})},this.handleSubListValueChange=(e,t,s)=>{let a=this.findItemIndexByName(t);-1!==a&&this.setState(t=>{let n=e.selectedItem,l={...t};return l.pageData[a].list[s].uploaded_column=n,this.props.onChildDataChange(l),l})},this.handleOperationListValueChange=(e,t,s)=>{let a=this.findItemIndexByName(t);-1!==a&&this.setState(t=>{let n=e.selectedItem,l={...t};return l.pageData[a].list[s].operation_value=n,this.props.onChildDataChange(l),l})},this.onClickIngestASDL=async()=>{await this.props.onChildDataChange(this.state),this.props.ingestButtonClickParentMethod()},this.state={loading:!1,pageData:[],uploaded_columns:this.props.uploaded_columns,locations:this.props.locations,accounts:this.props.accounts}}findSuitableUploadedColumn(e){var t=this.state.uploaded_columns;for(let s of t)if(s===e)return s;for(let s of t)if(s.includes(e))return s;for(let s of t)if(e.includes(s))return s;return e}handleLoad(){let e=["",...this.state.uploaded_columns];this.setUploadedColumns(e);var t=[];t.push(this.getJsonDataType1("organization_link","Organization Link")),t.push(this.getJsonDataType1("organization","Organization")),t.push(this.getJsonDataType3("location","Location",this.state.locations)),t.push(this.getJsonDataType2("location_ref","Location Ref")),t.push(this.getJsonDataType2("account_style","Account Style Caption")),t.push(this.getJsonDataType2("account_subtype","Account Subtype")),t.push(this.getJsonDataType3("account_name","Account Number",this.state.accounts)),t.push(this.getJsonDataType2("account_ref","Account Reference")),t.push(this.getJsonDataType2("account_supplier","Account Supplier")),t.push(this.getJsonDataType2("account_reader","Account Reader")),t.push(this.getJsonDataType2_with_default("record_start","Record Start YYYY-MM-DD","2024-01-01")),t.push(this.getJsonDataType2_with_default("record_end","Record End YYYY-MM-DD","2024-01-01")),t.push(this.getJsonDataType2("record_data_quality","Record Data Quality")),t.push(this.getJsonDataType2("record_billing_type","Record Billing Type")),t.push(this.getJsonDataType2("record_subtype","Record Subtype")),t.push(this.getJsonDataType2("record_entry_method","Record Entry Method")),t.push(this.getJsonDataType2("record_reference","Record Reference")),t.push(this.getJsonDataType2("record_invoice_number","Record Invoice Number")),t.push(this.getJsonDataType2("quantity","Quantity")),t.push(this.getJsonDataType2("total_cost","Total Cost")),this.setPageData(t),console.info(JSON.stringify(t,null,2))}componentDidMount(){this.handleLoad()}render(){return this.state.loading?a.jsx("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"my-component",children:[(0,a.jsxs)("div",{className:"fin-header-section",children:[a.jsx("div",{className:"fin-text-heading",children:"Data Mapping"}),a.jsx("div",{className:"fin-text-heading-label",children:"Map the data from your uploaded excel file to the template columns"})]}),(0,a.jsxs)("div",{className:"fin-container",children:[this.state.pageData.map((e,t)=>(0,a.jsxs)("div",{className:"fin-mapping-container",children:[a.jsx("div",{className:"fin-mapping-container2",children:(0,a.jsxs)("div",{className:"fin-row",children:[a.jsx("div",{className:"fin-column",children:a.jsx("div",{className:"fin-field-label",children:e.label})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.TextInput,{className:"fin-text-box",value:e.text_value,onChange:t=>this.handleTextValueChange(t,e.name)})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.Dropdown,{className:"gan-dropdown-uploaded-columns",items:this.state.uploaded_columns,selectedItem:e.uploaded_column,size:"md",type:"default",onChange:t=>this.handleUploadedColumnValueChange(t,e.name)})}),a.jsx("div",{className:"fin-column",children:3==e.type&&a.jsx(i.Dropdown,{className:"gan-dropdown-existing-values",items:e.list_elements,size:"md",type:"default",selectedItem:e.list_value,onChange:t=>this.handleListValueChange(t,e.name)})})]})}),a.jsx("div",{className:"fin-mapping-container2",children:(2==e.type||3==e.type)&&e.list.map((t,s)=>(0,a.jsxs)("div",{className:"fin-row",children:[a.jsx("div",{className:"fin-column",children:a.jsx("div",{className:"fin-field-label"})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.TextInput,{className:"fin-text-box",value:t.text_value,onChange:t=>this.handleSubTextValueChange(t,e.name,s)})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.Dropdown,{className:"gan-dropdown-uploaded-columns",items:this.state.uploaded_columns,selectedItem:t.uploaded_column,type:"default",onChange:t=>this.handleSubListValueChange(t,e.name,s)})}),a.jsx("div",{className:"fin-column",children:a.jsx(i.Dropdown,{className:"gan-dropdown-operation",items:t.operation_elements,selectedItem:t.operation_value,type:"default",onChange:t=>this.handleOperationListValueChange(t,e.name,s)})}),(0,a.jsxs)("div",{className:"fin-column",children:[a.jsx(i.Button,{kind:"secondary",className:"fin-button-icon",hasIconOnly:!0,renderIcon:d.Add,iconDescription:"Add",size:"sm",onClick:()=>this.addField(e.name,s+1)}),a.jsx(i.Button,{kind:"secondary",className:"fin-button-icon",hasIconOnly:!0,renderIcon:d.TrashCan,iconDescription:"Delete",size:"sm",onClick:()=>this.removeField(e.name,s)})]})]}))})]})),a.jsx("div",{className:"fin-mapping-container",children:(0,a.jsxs)("div",{className:"fin-row",children:[a.jsx("div",{className:"fin-column",children:a.jsx(i.Button,{className:"btn-success button-excel",onClick:this.onClickIngestASDL,children:"Ingest"})}),a.jsx("div",{className:"fin-row",children:a.jsx("div",{children:a.jsx("span",{className:"instruction-msg",children:this.props.resultIngestASDL&&this.props.resultIngestASDL.msg})})})]})})]})]})}};let ExcelPage=class ExcelPage extends n.Component{constructor(){super(),this.handleFileChangeCONFIG=e=>{this.setState(t=>{let s={...t};return s.selectedFileCONFIG=e.target.files[0],s.resultUploadCONFIG=null,s.resultIngestCONFIG=null,s})},this.handleFileChangePOC=e=>{this.setState(t=>{let s={...t};return s.selectedFilePOC=e.target.files[0],s.resultUploadPOC=null,s.resultIngestPOC=null,s})},this.handleFileChangeASDL=e=>{this.setState(t=>{let s={...t};return s.selectedFileASDL=e.target.files[0],s.resultUploadASDL=null,s.resultIngestASDL=null,s})},this.setLoading=e=>{this.setState(t=>{let s={...t};return s.loading=e,s})},this.handleIngestCONFIG=async()=>{this.setLoading(!0);try{var e=this.envUtility.getAPIUrl()+"/api/excel/uploadConfigConnector";let t=new FormData;t.append("file",this.state.selectedFileCONFIG);let s=await o.Z.post(e,t,{headers:{"Content-Type":"multipart/form-data"}});this.setState(e=>{let t={...e};return t.resultUploadCONFIG=s.data,t.loading=!1,t})}catch(e){console.error("Error uploading file",e),this.setLoading(!1)}},this.handleUploadPOC=async()=>{this.setLoading(!0);try{var e=this.envUtility.getAPIUrl()+"/api/excel/loadTemplatePOC";let t=new FormData;t.append("file",this.state.selectedFilePOC);let s=await o.Z.post(e,t,{headers:{"Content-Type":"multipart/form-data"}});this.setState(e=>{let t={...e};return t.resultUploadPOC=s.data,t.loading=!1,t})}catch(e){console.error("Error uploading file",e),this.setLoading(!1)}},this.handleUploadASDL=async()=>{this.setLoading(!0);try{var e=this.envUtility.getAPIUrl()+"/api/excel/loadTemplateASDL";let t=new FormData;t.append("file",this.state.selectedFileASDL);let s=await o.Z.post(e,t,{headers:{"Content-Type":"multipart/form-data"}});this.setState(e=>{let t={...e};return t.resultUploadASDL=s.data,t.loading=!1,t})}catch(e){console.error("Error uploading file",e),this.setLoading(!1)}},this.handleIngestPOC=async()=>{this.setLoading(!0);let e={template_columns:this.state.resultUploadPOC.template_columns,uploaded_columns:this.state.resultUploadPOC.uploaded_columns,uploadedFile:this.state.resultUploadPOC.uploadedFile,data_mapping:this.state.childDataPOC};var t=this.envUtility.getAPIUrl()+"/api/excel/ingestTemplatePOC";o.Z.post(t,e,{headers:{Authorization:"Bearer xxxxx","Access-Control-Allow-Origin":"*"}}).then(e=>{this.setState(t=>{let s={...t};return s.resultIngestPOC=e.data,s.loading=!1,s})}).catch(e=>{console.log(e),this.setState(e=>{let t={...e};return t.loading=!1,t})})},this.handleIngestASDL=async()=>{this.setLoading(!0);let e={template_columns:this.state.resultUploadASDL.template_columns,uploaded_columns:this.state.resultUploadASDL.uploaded_columns,uploadedFile:this.state.resultUploadASDL.uploadedFile,data_mapping:this.state.childDataPOC};var t=this.envUtility.getAPIUrl()+"/api/excel/ingestTemplateASDL";o.Z.post(t,e,{headers:{Authorization:"Bearer xxxxx","Access-Control-Allow-Origin":"*"}}).then(e=>{this.setState(t=>{let s={...t};return s.resultIngestASDL=e.data,s.loading=!1,s})}).catch(e=>{console.log(e),this.setState(e=>{let t={...e};return t.loading=!1,t})})},this.handleChildDataChange=e=>{this.setState({childDataPOC:e}),console.info(JSON.stringify(this.state.childDataPOC))},this.state={loading:!1,selectedFileCONFIG:null,selectedFilePOC:null,selectedFileASDL:null,resultUploadCONFIG:null,resultUploadPOC:null,resultUploadASDL:null,resultIngestCONFIG:null,resultIngestPOC:null,resultIngestASDL:null,resultContentInvoice:"",childDataPOC:null,locations:[],accounts:[]}}componentDidMount(){this.handleLoad()}handleLoad(){this.loadLocations(),this.loadAccounts()}loadLocations(){var e=this.envUtility.getAPIUrl()+"/api/envizi/locations";o.Z.get(e,{},{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{let t=["",...e.data.data];this.setState({locations:t})}).catch(e=>{console.log("loadLocations ---: "+e)})}loadAccounts(){var e=this.envUtility.getAPIUrl()+"/api/envizi/accounts";o.Z.get(e,{},{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{let t=["",...e.data.data];this.setState({accounts:t})}).catch(e=>{console.log("loadAccounts ---: "+e)})}render(){return(0,a.jsxs)(i.Grid,{children:[a.jsx(i.Column,{lg:16,md:8,sm:4,className:"landing-page__banner my-title-image",children:a.jsx("span",{className:"SubHeaderTitle",children:"Excel Data Processing"})}),a.jsx(i.Column,{lg:16,md:8,sm:4,className:"landing-page__r2",children:(0,a.jsxs)(l.Tabs,{defaultSelectedIndex:0,children:[(0,a.jsxs)(l.TabList,{className:"tabs-group","aria-label":"Page navigation",children:[a.jsx(l.Tab,{children:"Config Connector & UDC"}),a.jsx(l.Tab,{children:"POC Account Setup and Data Load"}),a.jsx(l.Tab,{children:"Account Setup and Data Load PM&C"})]}),(0,a.jsxs)(l.TabPanels,{children:[a.jsx(l.TabPanel,{children:a.jsx(i.Grid,{className:"my-tabs-group-content",children:a.jsx(i.Column,{lg:16,children:a.jsx("table",{className:"fin-table",children:(0,a.jsxs)("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{children:(0,a.jsxs)("div",{className:"my-component",children:[(0,a.jsxs)("div",{className:"fin-header-section",children:[a.jsx("div",{className:"fin-text-heading",children:"Data Upload"}),a.jsx("div",{className:"fin-text-heading-label",children:"Upload the Config Connector or UDC Template excel file"})]}),a.jsx("div",{className:"fin-container",children:a.jsx("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"instruction-label",children:a.jsx("input",{type:"file",className:"file-class",onClick:this.handleFileChangeCONFIG,onChange:this.handleFileChangeCONFIG})}),a.jsx("td",{className:"instruction-label",children:a.jsx(i.Button,{size:"sm",className:"input-control-lable",onClick:()=>{this.handleIngestCONFIG()},disabled:this.state.loading,children:"Upload & Ingest"})})]}),a.jsx("tr",{children:a.jsx("td",{children:a.jsx("span",{className:"instruction-msg",children:!this.state.loading&&this.state.resultUploadCONFIG?a.jsx("span",{children:this.state.resultUploadCONFIG.msg}):a.jsx("span",{})})})})]})})})]})})}),a.jsx("tr",{children:a.jsx("td",{children:this.state.loading&&(0,a.jsxs)("div",{children:[a.jsx("p",{children:"\xa0"}),a.jsx(i.Loading,{description:"Loading content..."})]})})}),a.jsx("tr",{children:a.jsx("td",{children:this.state.resultUploadCONFIG&&this.state.resultUploadCONFIG.processed_data&&a.jsx(CarbonTable,{columns:this.state.resultUploadCONFIG.processed_data_columns,jsonData:this.state.resultUploadCONFIG.processed_data,headingText1:"Data Ingested",headingText2:"The below data have been pushed to Envizi"})})})]})})})})}),a.jsx(l.TabPanel,{children:a.jsx(i.Grid,{className:"my-tabs-group-content",children:a.jsx(i.Column,{md:4,lg:16,sm:4,className:"landing-page__tab-content",children:a.jsx("table",{className:"fin-table",children:(0,a.jsxs)("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{children:(0,a.jsxs)("div",{className:"my-component",children:[(0,a.jsxs)("div",{className:"fin-header-section",children:[a.jsx("div",{className:"fin-text-heading",children:"Data Upload"}),a.jsx("div",{className:"fin-text-heading-label",children:"Upload the excel file that contains your data."})]}),a.jsx("div",{className:"fin-container",children:a.jsx("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"instruction-label",children:a.jsx("input",{type:"file",className:"file-class",onClick:this.handleFileChangePOC,onChange:this.handleFileChangePOC})}),a.jsx("td",{className:"instruction-label",children:a.jsx(i.Button,{size:"sm",className:"input-control-lable",onClick:()=>{this.handleUploadPOC()},disabled:this.state.loading,children:"Upload"})})]}),a.jsx("tr",{children:a.jsx("td",{children:a.jsx("span",{className:"instruction-msg",children:!this.state.loading&&this.state.resultUploadPOC?a.jsx("span",{children:this.state.resultUploadPOC.msg}):a.jsx("span",{})})})})]})})})]})})}),a.jsx("tr",{children:a.jsx("td",{children:this.state.loading&&(0,a.jsxs)("div",{children:[a.jsx("p",{children:"\xa0"}),a.jsx(i.Loading,{description:"Loading content..."})]})})}),a.jsx("tr",{children:this.state.resultUploadPOC&&this.state.resultUploadPOC.uploaded_columns&&a.jsx("td",{children:a.jsx(TemplateMapPOC,{onChildDataChange:this.handleChildDataChange,ingestButtonClickParentMethod:this.handleIngestPOC,uploaded_columns:this.state.resultUploadPOC.uploaded_columns,resultIngestPOC:this.state.resultIngestPOC,locations:this.state.locations,accounts:this.state.accounts})})}),a.jsx("tr",{children:a.jsx("td",{children:this.state.resultIngestPOC&&this.state.resultIngestPOC.processed_data&&a.jsx(CarbonTable,{columns:this.state.resultUploadPOC.template_columns,jsonData:this.state.resultIngestPOC.processed_data,headingText1:"Data Ingested",headingText2:"The below data have been pushed to Envizi"})})})]})})})})}),a.jsx(l.TabPanel,{children:a.jsx(i.Grid,{className:"my-tabs-group-content",children:a.jsx(i.Column,{md:4,lg:16,sm:4,className:"landing-page__tab-content",children:a.jsx("table",{className:"fin-table",children:(0,a.jsxs)("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{children:(0,a.jsxs)("div",{className:"my-component",children:[(0,a.jsxs)("div",{className:"fin-header-section",children:[a.jsx("div",{className:"fin-text-heading",children:"Data Upload"}),a.jsx("div",{className:"fin-text-heading-label",children:"Upload the excel file that contains your data."})]}),a.jsx("div",{className:"fin-container",children:a.jsx("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"instruction-label",children:a.jsx("input",{type:"file",className:"file-class",onClick:this.handleFileChangeASDL,onChange:this.handleFileChangeASDL})}),a.jsx("td",{className:"instruction-label",children:a.jsx(i.Button,{size:"sm",className:"input-control-lable",onClick:()=>{this.handleUploadASDL()},disabled:this.state.loading,children:"Upload"})})]}),a.jsx("tr",{children:a.jsx("td",{children:a.jsx("span",{className:"instruction-msg",children:!this.state.loading&&this.state.resultUploadASDL?a.jsx("span",{children:this.state.resultUploadASDL.msg}):a.jsx("span",{})})})})]})})})]})})}),a.jsx("tr",{children:a.jsx("td",{children:this.state.loading&&(0,a.jsxs)("div",{children:[a.jsx("p",{children:"\xa0"}),a.jsx(i.Loading,{description:"Loading content..."})]})})}),a.jsx("tr",{children:this.state.resultUploadASDL&&this.state.resultUploadASDL.uploaded_columns&&a.jsx("td",{children:a.jsx(TemplateMapASDL,{onChildDataChange:this.handleChildDataChange,ingestButtonClickParentMethod:this.handleIngestASDL,uploaded_columns:this.state.resultUploadASDL.uploaded_columns,resultIngestASDL:this.state.resultIngestASDL,locations:this.state.locations,accounts:this.state.accounts})})}),a.jsx("tr",{children:a.jsx("td",{children:this.state.resultIngestASDL&&this.state.resultIngestASDL.processed_data&&a.jsx(CarbonTable,{columns:this.state.resultUploadASDL.template_columns,jsonData:this.state.resultIngestASDL.processed_data,headingText1:"Data Ingested",headingText2:"The below data have been pushed to Envizi"})})})]})})})})})]})]})})]})}};let r=ExcelPage},25769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>d});var a=s(95153);let n=(0,a.createProxy)(String.raw`/Users/siraj/development/integration_hub/web/src/app/excel/page.js`),{__esModule:l,$$typeof:i}=n,o=n.default,d=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[126,277,323,145,110,237,832],()=>__webpack_exec__(1030));module.exports=s})();