(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{6823:function(e,s,t){Promise.resolve().then(t.bind(t,7501))},7501:function(e,s,t){"use strict";t.r(s);var i=t(7437),n=t(2265),l=t(4659),a=t(1443),o=t(1005),c=t(5930),d=t(1516),h=t(4941);t(5349);let WebhookPage=class WebhookPage extends n.Component{componentDidMount(){this.handleLoad()}getWebhookDetailLink(e){return"/webhookdetail?action=load&id="+e}render(){return(0,i.jsxs)(l.rjZ,{children:[(0,i.jsx)(l.sgG,{lg:16,md:8,sm:4,className:"landing-page__banner my-title-image",children:(0,i.jsx)("span",{className:"SubHeaderTitle",children:"Webhook Integration"})}),(0,i.jsx)(l.sgG,{lg:16,md:8,sm:4,className:"landing-page__r2",children:(0,i.jsx)("div",{className:"my-component",children:(0,i.jsxs)("section",{className:"top-section",children:[(0,i.jsx)("div",{className:"text-sub-heading",children:"Webhooks"}),(0,i.jsx)("div",{className:"text-sub-heading-label2",children:"Manage your webhooks here"}),(0,i.jsx)("div",{className:"upload-section",children:(0,i.jsx)("div",{className:"fin-row",children:(0,i.jsx)("div",{className:"fin-column",children:(0,i.jsx)(l.zxk,{className:"fin-button-1",onClick:this.handleNew,children:"New"})})})}),(0,i.jsx)("div",{children:this.state.loading&&(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"\xa0"}),(0,i.jsx)(l.gbz,{description:"Loading content..."})]})}),(0,i.jsx)("div",{className:"upload-section",children:(0,i.jsxs)(l.iA_,{children:[(0,i.jsx)(l.ssF,{children:(0,i.jsxs)(l.SCH,{children:[(0,i.jsx)(l.xDH,{children:"Id"}),(0,i.jsx)(l.xDH,{children:"Name"}),(0,i.jsx)(l.xDH,{children:"Desc"}),(0,i.jsx)(l.xDH,{children:"Envizi Template Type"}),(0,i.jsx)(l.xDH,{children:"Actions"})]})}),(0,i.jsx)(l.RMI,{children:this.state.webhooks&&this.state.webhooks.map(e=>(0,i.jsxs)(l.SCH,{children:[(0,i.jsx)(l.pj1,{children:(0,i.jsx)(l.rUS,{href:this.getWebhookDetailLink(e.id),target:"_self",children:e.id})},e.id),(0,i.jsx)(l.pj1,{children:e.name}),(0,i.jsx)(l.pj1,{children:e.desc}),(0,i.jsx)(l.pj1,{children:e.type}),(0,i.jsxs)(l.pj1,{children:[(0,i.jsx)(l.zxk,{className:"fin-button-icon2",hasIconOnly:!0,renderIcon:a.I8,iconDescription:"Open",size:"sm",onClick:()=>this.handleOpen(e.id)}),(0,i.jsx)(l.zxk,{kind:"secondary",className:"fin-button-icon2",hasIconOnly:!0,renderIcon:o.rJ,iconDescription:"Clone/Copy",size:"sm",onClick:()=>this.handleClone(e.id)}),(0,i.jsx)(l.zxk,{kind:"secondary",className:"fin-button-icon2",hasIconOnly:!0,renderIcon:c.ZN,iconDescription:"Delete",size:"sm",onClick:()=>this.handleDelete(e.id)})]})]},e.id))})]})})]})})}),(0,i.jsx)(l.sgG,{lg:16,md:8,sm:4,className:"landing-page__r2",children:(0,i.jsx)("div",{className:"my-component",children:this.state.execution_result&&(0,i.jsxs)("section",{className:"top-section",children:[(0,i.jsx)("div",{className:"text-sub-heading",children:"Webhook Execution Result"}),(0,i.jsx)("div",{className:"text-sub-heading-label2",children:"Webhook Execution results"}),(0,i.jsx)("div",{className:"upload-section",children:this.state.execution_result&&(0,i.jsx)(d.Z,{columns:this.state.template_columns,jsonData:this.state.execution_result,headingText1:"Data Ingested",headingText2:"The below data have been pushed to Envizi"})})]})})})]})}constructor(){super(),this.handleNew=()=>{window.location.href="/webhookdetail?action=new"},this.handleOpen=e=>{window.location.href="/webhookdetail?action=load&id="+e},this.handleClone=e=>{window.location.href="/webhookdetail?action=clone&id="+e},this.handleLoad=()=>{this.postRequest("/api/webhook/loadall",null,null,this.sucessCallBackLoad,null)},this.handleExecute=e=>{this.postRequest("/api/webhook/execute",this.startLoading,this.stopLoading,this.sucessCallBackExecute,e)},this.handleDelete=e=>{this.postRequest("/api/webhook/delete",this.startLoading,this.stopLoading,this.sucessCallBackDelete,e)},this.sucessCallBackLoad=e=>{this.setState(s=>{let t={...s};return t.webhooks=e.data,t.msg=e.msg,t.loading=!1,t})},this.sucessCallBackExecute=e=>{this.setState(s=>{let t={...s};return t.execution_result=e.data,t.template_columns=e.template_columns,t.msg=e.msg,t.loading=!1,t})},this.sucessCallBackDelete=e=>{this.setState(s=>{let t={...s};return t.webhooks=e.data,t.msg=e.msg,t.loading=!1,t})},this.startLoading=()=>{this.setState(e=>{let s={...e};return s.msg=null,s.execution_result=null,s.loading=!0,s})},this.stopLoading=e=>{console.log(e),this.setState(e=>{let s={...e};return s.loading=!1,s})},this.postRequest=(e,s,t,i,n)=>{this.apiUtility.postRequest(e,s,t,i,{id:n})},this.state={loading:!1,msg:null,webhooks:null,execution_result:null},this.apiUtility=new h.Z}};s.default=WebhookPage},4941:function(e,s,t){"use strict";t(2265);var i=t(4829),n=t(3354);s.Z=class{constructor(){this.postRequest=(e,s,t,l,a)=>{let o=new n.Z;var c=o.getAPIUrl()+e;s&&s(),i.Z.post(c,a,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{l(e.data)}).catch(e=>{t&&t(e)})}}}},1516:function(e,s,t){"use strict";var i=t(7437);t(2265),t(3473);var n=t(4659);s.Z=e=>{let{columns:s,jsonData:t,headingText1:l,headingText2:a}=e;return t&&0!==t.length?(0,i.jsxs)("div",{className:"my-component",children:[(0,i.jsxs)("div",{className:"fin-header-section",children:[(0,i.jsx)("div",{className:"fin-text-heading",children:l}),(0,i.jsx)("div",{className:"fin-text-heading-label",children:a})]}),(0,i.jsx)("div",{className:"fin-container",children:(0,i.jsx)(n.xJi,{children:(0,i.jsxs)(n.iA_,{"aria-label":"sample table",useZebraStyles:!0,children:[(0,i.jsx)(n.ssF,{children:(0,i.jsxs)(n.SCH,{children:[(0,i.jsx)(n.xDH,{children:"S.No"}),s.map(e=>(0,i.jsx)(n.xDH,{children:e}))]})}),(0,i.jsx)(n.RMI,{children:t.map((e,t)=>(0,i.jsxs)(n.SCH,{children:[(0,i.jsx)(n.pj1,{children:t+1},t),s.map(s=>(0,i.jsx)(n.pj1,{children:e[s]}))]},t))})]})})})]}):(0,i.jsx)("p",{})}},3354:function(e,s,t){"use strict";t(2265),s.Z=class{constructor(){this.getAPIUrl=()=>"http://localhost:3000/api"}}},3473:function(){},5349:function(){}},function(e){e.O(0,[501,513,829,930,402,971,472,744],function(){return e(e.s=6823)}),_N_E=e.O()}]);